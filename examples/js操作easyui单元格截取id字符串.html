<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>js截取字符串</title>
    <script type="text/javascript" src="js/jquery-1.11.1.js"></script>
</head>

<body>
    <div id="div1">
        1-1:
        <input type="text" id="field121_0" name="field121_0">1-2:
        <input type="text" id="field122_0" name="field122_0">1-3:
        <input type="text" id="field123_0" name="field123_0">
    </div>
    <div id="div2">
        2-1:
        <input type="text" id="field121_1" name="field121_1">2-2:
        <input type="text" id="field122_1" name="field122_1">2-3:
        <input type="text" id="field123_1" name="field123_1">
    </div>

    <script type="text/javascript">
    jQuery(document).ready(function() {
        setInterval(function() {
            jQuery("input[name^='field121']").change(function() {
                var firstValue = jQuery(this).val();

                var thisId = jQuery(this).attr("name");
                arr = thisId.split("_");
                //拼接下一个元素id
                var nextId = "#field122_" + arr[1];
                var nextValue = jQuery(nextId).val();
                // console.log("第二个元素的值：" + nextValue);

                //拼接第三个元素id
                var thirdId = "#field123_" + arr[1];
                //设置第三个元素为前两个元素的乘积
                var thirdValue = firstValue * nextValue;
                jQuery(thirdId).val(thirdValue);
                // console.log("第三个元素的值：" + jQuery(thirdId).val());

            })
            jQuery("input[name^='field122']").change(function() {
                var thisValue = jQuery(this).val();
                var thisId = jQuery(this).attr("name");
                arr = thisId.split("_");
                //拼接上一个元素的id
                var preId = "#field121_" + arr[1];
                var preValue = jQuery(preId).val();
                //拼接下一个元素id
                var thirdId = "#field123_" + arr[1];
                //设置第三个元素为前两个元素的乘积
                var thirdValue = preValue * thisValue;
                jQuery(thirdId).val(thirdValue);
            })
        }, 1000);
    });
    </script>
</body>

</html>
